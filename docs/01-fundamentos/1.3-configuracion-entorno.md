# 1.3 - Configuraci√≥n del entorno (IDE, plugins)

## üéØ **Objetivos de Aprendizaje**
Al finalizar esta secci√≥n podr√°s:
- [ ] Configurar IntelliJ IDEA para JavaDoc profesional
- [ ] Crear templates autom√°ticos para diferentes tipos de clases
- [ ] Usar shortcuts para generar JavaDoc instant√°neamente
- [ ] Configurar validaciones autom√°ticas de documentaci√≥n
- [ ] Instalar y configurar plugins esenciales

---

## üöÄ **¬øPor qu√© configurar el entorno?**

**La diferencia entre un developer eficiente y uno lento** est√° en su setup. Un entorno bien configurado te permite:

- ‚ö° **Generar JavaDoc en segundos** en lugar de minutos
- üéØ **Templates consistentes** para todo el equipo
- ‚úÖ **Validaci√≥n autom√°tica** que previene errores
- üîß **Shortcuts profesionales** que impresionan en pair programming

---

## üíª **IntelliJ IDEA: Configuraci√≥n Profesional**

### **1. Settings B√°sicos para JavaDoc**

#### **Paso 1: Configurar Generaci√≥n Autom√°tica**
```
File ‚Üí Settings ‚Üí Editor ‚Üí General ‚Üí Smart Keys
```

‚úÖ **Activa estas opciones:**
- `Insert documentation comment stub` ‚úì
- `Insert pair bracket` ‚úì 
- `Insert pair quote` ‚úì

#### **Paso 2: Configurar Inspections (Validaciones)**
```
File ‚Üí Settings ‚Üí Editor ‚Üí Inspections ‚Üí Java ‚Üí Javadoc
```

‚úÖ **Activa y configura:**
- `Javadoc issues` ‚Üí **Warning** (nivel)
- `Missing Javadoc` ‚Üí **Warning** para m√©todos p√∫blicos
- `Javadoc declaration problems` ‚Üí **Error**
- `Dangling Javadoc comment` ‚Üí **Warning**

### **2. Live Templates para JavaDoc Instant√°neo**

#### **Crear Templates Personalizados:**
```
File ‚Üí Settings ‚Üí Editor ‚Üí Live Templates ‚Üí Java
```

**Template 1: M√©todo Completo**
- **Abbreviation:** `jdoc`
- **Template text:**
```java
/**
 * $DESCRIPTION$
 * $PARAMS$
 * @return $RETURN_DESCRIPTION$
 * @throws $EXCEPTION$ $EXCEPTION_DESCRIPTION$
 * @since $VERSION$
 */
```
- **Variables:**
  - `DESCRIPTION` = "Descripci√≥n del m√©todo"
  - `PARAMS` = "groovyScript(\"def result=''; _1.split(',').each{result+='\\n * @param ' + it.trim() + ' '}; return result\", methodParameters())"
  - `RETURN_DESCRIPTION` = "descripci√≥n del valor de retorno"
  - `EXCEPTION` = "IllegalArgumentException"
  - `EXCEPTION_DESCRIPTION` = "descripci√≥n de cu√°ndo se lanza"
  - `VERSION` = "1.0.0"

**Template 2: Clase Entity**
- **Abbreviation:** `jdocent`
- **Template text:**
```java
/**
 * Entidad $CLASS_NAME$ que representa $ENTITY_PURPOSE$ en el sistema.
 * 
 * Esta entidad maneja la persistencia de datos relacionados con $DOMAIN_AREA$
 * y establece las relaciones necesarias con otras entidades del modelo.
 * 
 * @author $USER$
 * @since $VERSION$
 * @see $RELATED_ENTITY$
 */
```

**Template 3: Service Class**
- **Abbreviation:** `jdocsvc`
- **Template text:**
```java
/**
 * Servicio que gestiona la l√≥gica de negocio relacionada con $DOMAIN$.
 * 
 * Esta clase centraliza todas las operaciones de $BUSINESS_AREA$ y act√∫a
 * como intermediario entre los controladores y la capa de persistencia.
 * 
 * @author $USER$
 * @since $VERSION$
 */
```

### **3. File Templates para Nuevas Clases**

#### **Configurar Templates de Archivo:**
```
File ‚Üí Settings ‚Üí Editor ‚Üí File and Code Templates ‚Üí Files ‚Üí Class
```

**Template para Entity:**
```java
#if (${PACKAGE_NAME} && ${PACKAGE_NAME} != "")package ${PACKAGE_NAME};#end

import jakarta.persistence.*;
import jakarta.validation.constraints.*;
import java.time.LocalDateTime;

/**
 * Entidad ${NAME} que representa [COMPLETAR] en el sistema BookStore.
 * 
 * Esta entidad maneja [DESCRIBIR PROP√ìSITO] y establece las relaciones
 * necesarias con otras entidades del modelo de dominio.
 * 
 * @author ${USER}
 * @since 1.0.0
 */
#parse("File Header.java")
@Entity
@Table(name = "${NAME.toLowerCase()}s")
public class ${NAME} {
    
    /**
     * Identificador √∫nico de ${NAME.toLowerCase()}.
     */
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    /**
     * Fecha y hora de creaci√≥n del registro.
     */
    @Column(name = "created_at", nullable = false, updatable = false)
    private LocalDateTime createdAt;
    
    /**
     * Fecha y hora de √∫ltima actualizaci√≥n del registro.
     */
    @Column(name = "updated_at")
    private LocalDateTime updatedAt;
    
    // Constructor por defecto requerido por JPA
    protected ${NAME}() {
    }
    
    // Getters y Setters
    
}
```

**Template para Service:**
```java
#if (${PACKAGE_NAME} && ${PACKAGE_NAME} != "")package ${PACKAGE_NAME};#end

import org.springframework.stereotype.Service;
import org.springframework.transaction.annotation.Transactional;
import lombok.RequiredArgsConstructor;
import lombok.extern.slf4j.Slf4j;

/**
 * Servicio que gestiona la l√≥gica de negocio relacionada con [COMPLETAR].
 * 
 * Esta clase centraliza las operaciones de [√ÅREA DE NEGOCIO] y act√∫a como
 * intermediario entre los controladores y la capa de persistencia, aplicando
 * las reglas de negocio correspondientes.
 * 
 * @author ${USER}
 * @since 1.0.0
 */
#parse("File Header.java")
@Service
@RequiredArgsConstructor
@Slf4j
@Transactional(readOnly = true)
public class ${NAME} {
    
    // TODO: Inyectar dependencias necesarias
    
}
```

### **4. Shortcuts Esenciales**

#### **Configurar Keyboard Shortcuts:**
```
File ‚Üí Settings ‚Üí Keymap
```

**Shortcuts Recomendados:**
- **Generate JavaDoc:** `Ctrl + Shift + J` (custom)
- **Generate Constructor, Getters, Setters:** `Alt + Insert`
- **Generate Test:** `Ctrl + Shift + T`
- **Optimize Imports:** `Ctrl + Alt + O`
- **Reformat Code:** `Ctrl + Alt + L`

#### **Shortcut Personalizado para JavaDoc:**
1. **Busca:** "Generate"
2. **Selecciona:** "Generate..."
3. **A√±ade:** `Ctrl + Shift + J`
4. **Apply**

### **5. Plugins Esenciales**

#### **Plugins Obligatorios:**

**1. Java Doc Generator**
- **Instalaci√≥n:** `File ‚Üí Settings ‚Üí Plugins ‚Üí Marketplace`
- **Busca:** "JavaDoc Generator"
- **Funciones:** Generaci√≥n autom√°tica inteligente

**2. CheckStyle-IDEA**
- **Para qu√©:** Validaci√≥n de estilo de c√≥digo
- **Configuraci√≥n:** Incluye reglas JavaDoc
- **Archivo config:** `checkstyle-javadoc.xml`

**3. SonarLint**
- **Para qu√©:** Detecci√≥n de code smells
- **JavaDoc:** Identifica documentaci√≥n faltante
- **Real-time:** An√°lisis mientras escribes

**4. Lombok Plugin**
- **Crucial:** Si usas Lombok en tu proyecto
- **JavaDoc:** Maneja @Data, @Builder, etc.
- **Integraci√≥n:** Con generaci√≥n autom√°tica

#### **Configuraci√≥n de CheckStyle para JavaDoc:**

**Crea archivo:** `checkstyle-javadoc.xml`
```xml
<?xml version="1.0"?>
<!DOCTYPE module PUBLIC
    "-//Checkstyle//DTD Checkstyle Configuration 1.3//EN"
    "https://checkstyle.org/dtds/configuration_1_3.dtd">

<module name="Checker">
    <module name="TreeWalker">
        <!-- Verificar JavaDoc en clases p√∫blicas -->
        <module name="MissingJavadocType">
            <property name="scope" value="public"/>
        </module>
        
        <!-- Verificar JavaDoc en m√©todos p√∫blicos -->
        <module name="MissingJavadocMethod">
            <property name="scope" value="public"/>
            <property name="allowMissingPropertyJavadoc" value="true"/>
        </module>
        
        <!-- Validar formato de JavaDoc -->
        <module name="JavadocMethod">
            <property name="validateThrows" value="true"/>
            <property name="validateReturns" value="true"/>
        </module>
        
        <!-- Validar estilo de JavaDoc -->
        <module name="JavadocStyle">
            <property name="scope" value="public"/>
            <property name="checkFirstSentence" value="true"/>
            <property name="checkEmptyJavadoc" value="true"/>
        </module>
    </module>
</module>
```

---

## üîß **Visual Studio Code: Alternativa Ligera**

### **Extensiones Recomendadas:**

**1. Extension Pack for Java**
- **Incluye:** JavaDoc generation
- **IntelliSense:** Para etiquetas JavaDoc

**2. Java Doc Generator**
- **Auto-generaci√≥n:** De JavaDoc templates
- **Configuraci√≥n:** Personalizable

**3. Checkstyle for Java**
- **Validaci√≥n:** En tiempo real
- **Integraci√≥n:** Con archivos de configuraci√≥n

### **Configuraci√≥n VSCode:**

**settings.json**
```json
{
    "java.completion.generateMethodParams": true,
    "java.format.settings.url": "checkstyle-javadoc.xml",
    "java.checkstyle.configuration": "${workspaceFolder}/checkstyle-javadoc.xml",
    "java.compile.nullAnalysis.mode": "automatic",
    "editor.formatOnSave": true,
    "editor.codeActionsOnSave": {
        "source.organizeImports": true
    }
}
```

---

## üöÄ **Flujo de Trabajo Optimizado**

### **Workflow Diario:**

1. **Crear nueva clase:**
   - Template autom√°tico se aplica ‚úì
   - JavaDoc b√°sico ya incluido ‚úì

2. **A√±adir m√©todo p√∫blico:**
   - `Ctrl + Shift + J` ‚Üí JavaDoc template ‚úì
   - Completar campos autom√°ticos ‚úì

3. **Verificar calidad:**
   - SonarLint analiza en tiempo real ‚úì
   - CheckStyle valida al guardar ‚úì

4. **Antes del commit:**
   - `Ctrl + Alt + O` ‚Üí Organizar imports ‚úì
   - `Ctrl + Alt + L` ‚Üí Formatear c√≥digo ‚úì

### **Ejemplo de Uso R√°pido:**

**1. Crear Entity Book:**
```bash
New ‚Üí Java Class ‚Üí "Book" ‚Üí Enter
```
**Resultado:** Template autom√°tico con JavaDoc base

**2. A√±adir m√©todo:**
```java
public Book findByIsbn(String isbn) {
    // Posiciona cursor sobre la l√≠nea del m√©todo
    // Ctrl + Shift + J
    // Template se genera autom√°ticamente
}
```

**3. Completar template:**
```java
/**
 * Busca un libro por su c√≥digo ISBN-13 en el cat√°logo activo.
 * 
 * Solo busca en libros activos (no eliminados). Para buscar en todos
 * los libros incluyendo eliminados, usar {@link #findByIsbnIncludeDeleted}.
 * 
 * @param isbn c√≥digo ISBN-13 del libro, debe tener formato v√°lido
 * @return el libro con el ISBN especificado
 * @throws BookNotFoundException si no existe libro con ese ISBN
 * @throws IllegalArgumentException si ISBN no tiene formato v√°lido
 * @since 1.0.0
 */
public Book findByIsbn(String isbn) {
    // implementaci√≥n...
}
```

---

## ‚öôÔ∏è **Configuraci√≥n de Equipo**

### **Archivo de Configuraci√≥n Compartida:**

**intellij-javadoc-settings.zip** (para compartir con el equipo)
- Live templates personalizados
- File templates del proyecto
- Inspection profiles
- Code style settings

### **Maven/Gradle Integration:**

**pom.xml (Maven):**
```xml
<plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-javadoc-plugin</artifactId>
    <version>3.4.1</version>
    <configuration>
        <show>private</show>
        <nohelp>true</nohelp>
        <failOnError>false</failOnError>
        <failOnWarnings>false</failOnWarnings>
        <source>21</source>
        <target>21</target>
        <additionalOptions>-Xdoclint:none</additionalOptions>
    </configuration>
    <executions>
        <execution>
            <goals>
                <goal>javadoc</goal>
            </goals>
        </execution>
    </executions>
</plugin>
```

**build.gradle (Gradle):**
```gradle
javadoc {
    options.addBooleanOption('html5', true)
    options.addStringOption('Xdoclint:none', '-quiet')
    options.addStringOption('encoding', 'UTF-8')
    options.addStringOption('charSet', 'UTF-8')
    exclude '**/internal/**'
}

task javadocJar(type: Jar, dependsOn: javadoc) {
    classifier = 'javadoc'
    from javadoc.destinationDir
}
```

---

## ‚úÖ **Checklist: Entorno Configurado**

### **IntelliJ IDEA:**
- [ ] Smart Keys activadas para JavaDoc
- [ ] Inspections configuradas (Warning/Error levels)
- [ ] Live templates creados para m√©todos y clases
- [ ] File templates personalizados para Entity/Service
- [ ] Shortcuts configurados (Ctrl + Shift + J)
- [ ] Plugins instalados (JavaDoc Generator, CheckStyle, SonarLint)

### **Validaci√≥n y Calidad:**
- [ ] CheckStyle configurado con reglas JavaDoc
- [ ] SonarLint activo para an√°lisis en tiempo real
- [ ] Maven/Gradle plugin configurado
- [ ] Archivo de configuraci√≥n compartido con el equipo

### **Flujo de Trabajo:**
- [ ] Templates autom√°ticos funcionando
- [ ] Generaci√≥n r√°pida con shortcuts
- [ ] Validaci√≥n autom√°tica al guardar
- [ ] Formateo autom√°tico configurado

---

## üéØ **Prueba Tu Configuraci√≥n**

### **Test R√°pido:**
1. **Crea una nueva clase:** `TestConfiguration`
2. **Verifica:** ¬øSe aplic√≥ el template autom√°tico?
3. **A√±ade un m√©todo p√∫blico:** `calculateSomething()`
4. **Usa el shortcut:** `Ctrl + Shift + J`
5. **Completa el JavaDoc**
6. **Verifica:** ¬øSonarLint muestra sugerencias?

### **Si algo no funciona:**
- ‚úÖ Verifica que los plugins est√°n activados
- ‚úÖ Reinicia IntelliJ despu√©s de instalar plugins
- ‚úÖ Comprueba que los templates se guardaron correctamente
- ‚úÖ Revisa que los shortcuts no tienen conflictos

---

## üîó **Recursos y Archivos de Configuraci√≥n**

### **Descargas:**
- [intellij-javadoc-templates.zip](resources/intellij-javadoc-templates.zip)
- [checkstyle-javadoc.xml](resources/checkstyle-javadoc.xml)
- [maven-javadoc-config.xml](resources/maven-javadoc-config.xml)

### **Enlaces √ötiles:**
- [IntelliJ Live Templates Guide](https://www.jetbrains.com/help/idea/using-live-templates.html)
- [Checkstyle JavaDoc Checks](https://checkstyle.sourceforge.io/checks/javadoc/index.html)

---

## üìù **¬øQu√© Sigue?**

Con tu entorno configurado profesionalmente, es hora de poner todo en pr√°ctica y generar tu primera documentaci√≥n completa.

**Siguiente:** [1.4 - Generaci√≥n b√°sica de documentaci√≥n](1.4-generacion-basica.md)

---

<div align="center">

**üìö Progreso: Secci√≥n 1.3 completada** ‚úÖ  
*¬°Tu entorno est√° listo para JavaDoc profesional!*

</div>