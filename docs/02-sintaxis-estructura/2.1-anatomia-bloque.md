# 2.1 - Anatom√≠a del bloque JavaDoc

> **üéØ Objetivo:** Dominar la estructura interna de los bloques JavaDoc para crear documentaci√≥n profesional y consistente.

## √çndice
- [Estructura b√°sica del bloque](#estructura-b√°sica-del-bloque)
- [Elementos fundamentales](#elementos-fundamentales)
- [Orden jer√°rquico de elementos](#orden-jer√°rquico-de-elementos)
- [Ejemplos pr√°cticos del sistema BookStore](#ejemplos-pr√°cticos-del-sistema-bookstore)
- [Errores comunes y c√≥mo evitarlos](#errores-comunes-y-c√≥mo-evitarlos)
- [Consejos profesionales](#consejos-profesionales)

---

## Estructura b√°sica del bloque

Un bloque JavaDoc tiene una anatom√≠a espec√≠fica que debe respetarse para generar documentaci√≥n de calidad:

```java
/**
 * [Descripci√≥n principal - Summary sentence]
 * [Descripci√≥n detallada opcional - Body]
 *
 * @tag1 descripci√≥n del tag
 * @tag2 descripci√≥n del tag
 * @tag3 descripci√≥n del tag
 */
```

### Elementos obligatorios vs opcionales

| Elemento | Estado | Descripci√≥n |
|----------|--------|-------------|
| `/**` | **Obligatorio** | Inicio del bloque JavaDoc |
| Summary sentence | **Obligatorio** | Primera oraci√≥n descriptiva |
| `*/` | **Obligatorio** | Fin del bloque JavaDoc |
| Body | Opcional | Descripci√≥n extendida |
| Tags | Condicional | Depende del tipo de elemento |

---

## Elementos fundamentales

### 1. Delimitadores

```java
/**  ‚Üê Inicio obligatorio (NO /* o /*)
 *   ‚Üê Asterisco alineado (buena pr√°ctica)
 */  ‚Üê Fin obligatorio
```

‚ö†Ô∏è **Error com√∫n:** Usar `/*` en lugar de `/**` - el JavaDoc no se generar√°.

### 2. Oraci√≥n resumen (Summary Sentence)

La **primera oraci√≥n** es cr√≠tica - aparece en √≠ndices y res√∫menes:

```java
/**
 * Creates a new book with the specified title and author.
 * ‚Üë Esta oraci√≥n aparecer√° en el √≠ndice de m√©todos
 *
 * This method validates the input parameters and initializes
 * all required fields with default values.
 */
```

### 3. Cuerpo (Body)

Informaci√≥n adicional despu√©s de la oraci√≥n resumen:

```java
/**
 * Validates user credentials against the database.
 *
 * This method performs a secure authentication process using
 * hashed passwords and implements rate limiting to prevent
 * brute force attacks. The authentication result is cached
 * for improved performance.
 *
 * @param email user email address
 * @param password plain text password
 * @return authentication result with user details
 */
```

### 4. Etiquetas (@param, @return, etc.)

Las etiquetas proporcionan informaci√≥n estructurada:

```java
/**
 * Summary sentence here.
 *
 * @param parameter1 parameter description
 * @param parameter2 parameter description  
 * @return description of return value
 * @throws ExceptionType when this exception is thrown
 * @since 1.0.0
 * @author Zaira Mart√≠n
 */
```

---

## Orden jer√°rquico de elementos

### Orden est√°ndar recomendado

```java
/**
 * Summary sentence.
 * 
 * Extended description if necessary.
 *
 * @param param1 description
 * @param param2 description
 * @return description of return value
 * @throws Exception1 when this occurs
 * @throws Exception2 when this occurs
 * @see RelatedClass
 * @see #relatedMethod()
 * @since version
 * @author author
 * @version version
 * @deprecated reason and alternative
 */
```

### ¬øPor qu√© este orden?

1. **@param** - Lo m√°s inmediato para entender el m√©todo
2. **@return** - Qu√© esperar como resultado
3. **@throws** - Posibles problemas a manejar
4. **@see** - Referencias relacionadas
5. **@since/@author/@version** - Metainformaci√≥n
6. **@deprecated** - Advertencias (siempre al final)

---

## Ejemplos pr√°cticos del sistema BookStore

### Clase completa con JavaDoc

```java
/**
 * Represents a book in the bookstore inventory system.
 * 
 * This class encapsulates all book-related information including
 * metadata, pricing, and availability status. It implements
 * validation rules for ISBN format and price constraints.
 *
 * @author Zaira Mart√≠n
 * @version 1.2.0
 * @since 1.0.0
 */
public class Book {
    
    /**
     * Unique identifier following ISBN-13 standard.
     * 
     * @since 1.0.0
     */
    private String isbn;
    
    /**
     * Creates a new book with mandatory fields.
     * 
     * This constructor validates the ISBN format and ensures
     * the title is not empty or null. Default values are
     * assigned to optional fields.
     *
     * @param isbn book ISBN-13 identifier
     * @param title book title
     * @param author primary author of the book
     * @throws IllegalArgumentException if ISBN format is invalid
     * @throws IllegalArgumentException if title is null or empty
     * @see #validateISBN(String)
     * @since 1.0.0
     */
    public Book(String isbn, String title, Author author) {
        // implementaci√≥n
    }
    
    /**
     * Calculates the final price including taxes and discounts.
     * 
     * The calculation considers the base price, applicable tax rate
     * based on the book category, and any active promotional discounts.
     * Premium members receive an additional 5% discount.
     *
     * @param taxRate tax rate as decimal (0.21 for 21%)
     * @param userType type of user for discount calculation
     * @return final price with taxes and discounts applied
     * @throws IllegalArgumentException if tax rate is negative
     * @see UserType
     * @see #applyDiscount(double, UserType)
     * @since 1.1.0
     */
    public double calculateFinalPrice(double taxRate, UserType userType) {
        // implementaci√≥n
    }
}
```

### M√©todo con manejo de excepciones m√∫ltiples

```java
/**
 * Searches books by multiple criteria with pagination support.
 * 
 * Performs a fuzzy search across title, author, and description
 * fields. Results are sorted by relevance score and paginated
 * for optimal performance with large datasets.
 *
 * @param query search terms (minimum 3 characters)
 * @param category book category filter (null for all categories)
 * @param page page number starting from 0
 * @param size items per page (maximum 100)
 * @return paginated search results with metadata
 * @throws IllegalArgumentException if query is too short
 * @throws IllegalArgumentException if page or size are negative
 * @throws IllegalArgumentException if size exceeds maximum
 * @throws SearchException if search service is unavailable
 * @see BookCategory
 * @see SearchResult
 * @since 1.2.0
 */
public SearchResult<Book> searchBooks(String query, BookCategory category, 
                                    int page, int size) throws SearchException {
    // implementaci√≥n
}
```

---

## Errores comunes y c√≥mo evitarlos

### ‚ùå Error 1: Oraci√≥n resumen mal formada

```java
// MAL - No es una oraci√≥n completa
/**
 * Book creation method
 */

// BIEN - Oraci√≥n completa y descriptiva
/**
 * Creates a new book with the specified parameters.
 */
```

### ‚ùå Error 2: Etiquetas sin descripci√≥n

```java
// MAL - Etiqueta vac√≠a
/**
 * @param isbn
 * @return
 */

// BIEN - Descripci√≥n clara
/**
 * @param isbn book unique ISBN-13 identifier
 * @return newly created book instance
 */
```

### ‚ùå Error 3: Orden incorrecto de etiquetas

```java
// MAL - Orden confuso
/**
 * @since 1.0.0
 * @param name user name
 * @return user object
 * @author Zaira
 */

// BIEN - Orden l√≥gico
/**
 * @param name user name
 * @return user object
 * @since 1.0.0
 * @author Zaira Mart√≠n
 */
```

### ‚ùå Error 4: Descripci√≥n redundante

```java
// MAL - Redundante con el nombre del m√©todo
/**
 * Gets the book title.
 * 
 * @return the book title
 */
public String getTitle() { }

// BIEN - Informaci√≥n √∫til adicional
/**
 * Returns the book title in its original language.
 * 
 * @return book title, never null or empty
 */
public String getTitle() { }
```

---

## Consejos profesionales

### üí° Consejo 1: Consistencia en el proyecto

```java
// Establece una plantilla y √∫sala consistentemente
/**
 * [Verb in third person] [object] [purpose/result].
 * 
 * [Detailed technical description if necessary]
 *
 * @param param specific parameter description
 * @return specific return value description
 * @throws Exception when and why it is thrown
 * @since x.x.x
 */
```

### üí° Consejo 2: Usa presente, tercera persona

```java
// BIEN - Presente, tercera persona
/**
 * Creates a new user account.
 * Validates the email format.
 * Returns the generated user ID.
 */

// EVITA - Imperativo o segunda persona
/**
 * Create a new user account.
 * You should validate the email.
 */
```

### üí° Consejo 3: S√© espec√≠fico con tipos y restricciones

```java
/**
 * Updates user preferences with validation.
 *
 * @param userId positive integer user identifier
 * @param preferences non-null map with string keys and values
 * @return true if update succeeded, false if user not found
 * @throws IllegalArgumentException if userId <= 0
 * @throws IllegalArgumentException if preferences is null
 */
```

### üí° Consejo 4: Documenta el comportamiento, no la implementaci√≥n

```java
// MAL - Documenta implementaci√≥n
/**
 * Uses HashMap to store user sessions.
 */

// BIEN - Documenta comportamiento
/**
 * Manages user sessions with automatic expiration.
 */
```

---

## Verificaci√≥n del aprendizaje

### ‚úÖ Lista de verificaci√≥n de calidad

- [ ] ¬øTiene una oraci√≥n resumen clara y completa?
- [ ] ¬øLos tags est√°n en orden l√≥gico?
- [ ] ¬øCada @param y @throws tiene descripci√≥n?
- [ ] ¬øLa informaci√≥n es √∫til y no redundante?
- [ ] ¬øUsa consistentemente presente, tercera persona?
- [ ] ¬øEspecifica restricciones y tipos cuando es relevante?

### üéØ Siguiente paso

En la **Secci√≥n 2.2**, profundizaremos en los **Tags principales (@param, @return, @throws)** con ejemplos avanzados y casos especiales.

**Siguiente:** [2.2-formato-convenciones.md](../02-sintaxis-estructura/2.2-formato-convenciones.md)

---

**üìö Referencias:**
- [Oracle JavaDoc Tool Documentation](https://docs.oracle.com/javase/8/docs/technotes/tools/windows/javadoc.html)
- [Java SE Documentation Writing Guide](https://www.oracle.com/technical-resources/articles/java/javadoc-tool.html)